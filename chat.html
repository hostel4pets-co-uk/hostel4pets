<head>
    <link rel="stylesheet" href="./styles.css">
    <!-- <script src="chat.js"></script> -->
    <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hostel4Pets Chat</title>
    <script src="./chat.js" defer></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            if (!window.chatApp && window.ChatApp) {
                window.chatApp = new ChatApp();
            }
        });
    </script>
</head>

<body>
    <div class="chat-modal">
        <header class="chat-header">
            <span class="title">Chat</span>
            <div id="chat-controls">
                <div id="mute-btn" class="emoji-btn" role="button" aria-label="Mute notifications"
                    title="Mute notifications">üîï</div>
                <div id="clear-btn" class="emoji-btn" role="button" aria-label="Clear chat" title="Clear chat">‚úñÔ∏è</div>
                <div id="collapse-btn" class="emoji-btn" role="button" aria-label="Collapse window"
                    title="Collapse window">‚ûñ</div>
            </div>
        </header>

        <main class="chat-body">
            <!-- Chat history (JS will insert messages here) -->
            <div id="chatroom"></div>

            <!-- Fixed-height input box -->
            <div id="message" contenteditable="true" data-placeholder="Type your message here"></div>


        </main>

        <footer class="chat-footer">
            <!-- Nickname input and Submit button (shown only when no session) -->
            <input type="text" id="nickname" placeholder="Enter your nickname" hidden />
            <button id="submit-button" hidden>Submit</button>

            <!-- Send button (hidden when nickname not set) -->
            <button id="send-button">Send</button>
        </footer>
    </div>
</body>